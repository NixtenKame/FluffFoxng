<%# locals: (title: "Search", tags: "") %>

<section class="post-search">
  <h3 class="post-search-title"><%= title %></h3>
  <span class="post-search-help"><%= link_to "[search help]", help_page_path(id: "cheatsheet") %></span>

  <%= form_tag(posts_path, method: "get", class: "post-search-form") do %>
    <% if params[:random] %>
      <%= hidden_field_tag :random, params[:random] %>
    <% end %>

    <%= text_area_tag("tags", tags, placeholder: "Search posts by tag", rows: 1, data: { hotkey: "search", autocomplete: "tag-query" }) %>
    <%= tag.button(svg_icon(:search), type: "submit", title: "Search") %>
  <% end %>

  <div class="post-search-presets" data-role="search-presets">
    <div class="post-search-presets-header">
      <span>Quick Presets</span>
      <button type="button" class="st-button" data-action="save-search-preset">Save Current</button>
    </div>
    <div class="post-search-presets-list" data-role="preset-list"></div>
    <p class="post-search-presets-empty" data-role="preset-empty">Save common searches for one-click reuse.</p>
  </div>
</section>
